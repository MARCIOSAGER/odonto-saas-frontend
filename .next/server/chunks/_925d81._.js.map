{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/store.ts/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const useGlobalStore = registerClientReference(\n    function() { throw new Error(\"Attempted to call useGlobalStore() from the server but useGlobalStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/lib/store.ts\",\n    \"useGlobalStore\",\n);\n"],"names":[],"mappings":";;;;;;AACO,MAAM,iBAAiB,CAAA,GAAA,iQAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,0BACA"}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/api.ts"],"sourcesContent":["import axios from \"axios\"\r\nimport { useGlobalStore } from \"@/lib/store\"\r\nimport { getSession } from \"next-auth/react\"\r\n\r\nconst baseURL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3001\"\r\n\r\nexport const api = axios.create({\r\n  baseURL\r\n})\r\n\r\napi.interceptors.request.use(async (config) => {\r\n  const localToken = useGlobalStore.getState().token\r\n  let token = localToken\r\n  if (!token) {\r\n    const session = await getSession()\r\n    token = (session as any)?.accessToken\r\n  }\r\n  if (token) {\r\n    config.headers = config.headers || {}\r\n    config.headers.Authorization = `Bearer ${token}`\r\n  }\r\n  return config\r\n})\r\n\r\napi.interceptors.response.use(\r\n  (res) => res,\r\n  (error) => {\r\n    console.error(\"API Error:\", error?.response?.data || error.message)\r\n    // ativa modo mock para falhas de rede\r\n    useGlobalStore.getState().setMockMode(true)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport type ApiError = {\r\n  message?: string\r\n  status?: number\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAIA,MAAM,UAAU,6DAAmC;AAE5C,MAAM,MAAM,uIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IAClC,MAAM,aAAa,8GAAA,CAAA,iBAAc,CAAC,QAAQ,GAAG,KAAK;IAClD,IAAI,QAAQ;IACZ,IAAI,CAAC,OAAO;QACV,MAAM,UAAU,MAAM,CAAA,GAAA,gJAAA,CAAA,aAAU,AAAD;QAC/B,QAAS,SAAiB;IAC5B;IACA,IAAI,OAAO;QACT,OAAO,OAAO,GAAG,OAAO,OAAO,IAAI,CAAC;QACpC,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC;IAClD;IACA,OAAO;AACT;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,MAAQ,KACT,CAAC;IACC,QAAQ,KAAK,CAAC,cAAc,OAAO,UAAU,QAAQ,MAAM,OAAO;IAClE,sCAAsC;IACtC,8GAAA,CAAA,iBAAc,CAAC,QAAQ,GAAG,WAAW,CAAC;IACtC,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/auth.ts"],"sourcesContent":["import type { NextAuthOptions } from \"next-auth\"\r\nimport Credentials from \"next-auth/providers/credentials\"\r\nimport { api } from \"@/lib/api\"\r\n\r\nexport const authOptions: NextAuthOptions = {\r\n  session: { strategy: \"jwt\" },\r\n  pages: {\r\n    signIn: \"/login\"\r\n  },\r\n  providers: [\r\n    Credentials({\r\n      name: \"Credenciais\",\r\n      credentials: {\r\n        email: { label: \"Email\", type: \"text\" },\r\n        password: { label: \"Senha\", type: \"password\" }\r\n      },\r\n      async authorize(credentials) {\r\n        if (!credentials?.email || !credentials?.password) return null\r\n        try {\r\n          const res = await api.post(\"/api/auth/login\", {\r\n            email: credentials.email,\r\n            password: credentials.password\r\n          })\r\n          const user = res.data?.user || { email: credentials.email }\r\n          const token = res.data?.token\r\n          if (!token) return null\r\n          return { ...user, accessToken: token }\r\n        } catch (e) {\r\n          return null\r\n        }\r\n      }\r\n    })\r\n  ],\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user && (user as any).accessToken) {\r\n        token.accessToken = (user as any).accessToken\r\n      }\r\n      return token\r\n    },\r\n    async session({ session, token }) {\r\n      ;(session as any).accessToken = (token as any).accessToken\r\n      return session\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAIO,MAAM,cAA+B;IAC1C,SAAS;QAAE,UAAU;IAAM;IAC3B,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,CAAA,GAAA,0JAAA,CAAA,UAAW,AAAD,EAAE;YACV,MAAM;YACN,aAAa;gBACX,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAO;gBACtC,UAAU;oBAAE,OAAO;oBAAS,MAAM;gBAAW;YAC/C;YACA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU,OAAO;gBAC1D,IAAI;oBACF,MAAM,MAAM,MAAM,4GAAA,CAAA,MAAG,CAAC,IAAI,CAAC,mBAAmB;wBAC5C,OAAO,YAAY,KAAK;wBACxB,UAAU,YAAY,QAAQ;oBAChC;oBACA,MAAM,OAAO,IAAI,IAAI,EAAE,QAAQ;wBAAE,OAAO,YAAY,KAAK;oBAAC;oBAC1D,MAAM,QAAQ,IAAI,IAAI,EAAE;oBACxB,IAAI,CAAC,OAAO,OAAO;oBACnB,OAAO;wBAAE,GAAG,IAAI;wBAAE,aAAa;oBAAM;gBACvC,EAAE,OAAO,GAAG;oBACV,OAAO;gBACT;YACF;QACF;KACD;IACD,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,QAAQ,AAAC,KAAa,WAAW,EAAE;gBACrC,MAAM,WAAW,GAAG,AAAC,KAAa,WAAW;YAC/C;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,QAAgB,WAAW,GAAG,AAAC,MAAc,WAAW;YAC1D,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/api/auth/[...nextauth]/route.ts"],"sourcesContent":["import NextAuth from \"next-auth\"\r\nimport { authOptions } from \"@/lib/auth\"\r\n\r\nconst handler = NextAuth(authOptions)\r\n\r\nexport { handler as GET, handler as POST }\r\n"],"names":[],"mappings":";;;;;;;;;AAGA,MAAM,UAAU,CAAA,GAAA,uIAAA,CAAA,UAAQ,AAAD,EAAE,6GAAA,CAAA,cAAW"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}